import{c as D,M as L,n as R,u as V,r as v,o as P,j as e,H as C,L as S,B as x,N as w,p as r,s as m,t as u,q as l,V as q}from"./index-RvYhEvE-.js";import{u as $,t as H,o as O,s as h}from"./types-DDYWMunX.js";import{I as Y}from"./input-Ul9SEqCj.js";import{S as F,a as k,b as A,c as T,d as t}from"./select-CIqkrmum.js";import{F as B,a as p,b as g,c as j,d as f,e as y}from"./form-BR7HsJ4s.js";import{D as W}from"./dollar-sign-ftRSqX5W.js";import{A as z}from"./arrow-right-YRS_DYdu.js";import"./chevron-down-BvyYHFZ7.js";import"./label-DSj2IQyX.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=D("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),J=O({targetAmount:h().min(1,"Target amount is required").refine(i=>parseInt(i)>=5e5,"Minimum target amount is ₹5,00,000"),fundingType:h().min(1,"Please select funding type"),campaignDuration:h().min(1,"Please select campaign duration")});function re(){const{user:i}=L(),{toast:c}=R(),[,M]=V(),[K,N]=v.useState("0"),n=$({resolver:H(J),defaultValues:{targetAmount:"",fundingType:"",campaignDuration:"30"}}),b=s=>{if(!s)return"0";const a=parseInt(s);return Math.ceil(a*.01).toString()},I=s=>{if(!s)return"₹0";const a=parseInt(s);return a>=1e7?`₹${(a/1e7).toFixed(1)}Cr`:a>=1e5?`₹${(a/1e5).toFixed(1)}L`:`₹${a.toLocaleString()}`},o=n.watch("targetAmount");v.useEffect(()=>{N(b(o))},[o]);const d=P({mutationFn:async s=>(await q("POST","/api/campaigns/setup",{...s,targetAmount:parseInt(s.targetAmount)})).json(),onSuccess:s=>{c({title:"Campaign Created Successfully!",description:"Redirecting to complete your campaign details..."}),M(`/campaign/${s.campaignId}/setup`)},onError:s=>{c({title:"Setup Failed",description:s.message,variant:"destructive"})}}),E=s=>{d.mutate(s)};return i?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(C,{}),e.jsx("section",{className:"bg-gradient-to-r from-blue-600 to-purple-700 text-white py-16",children:e.jsxs("div",{className:"container mx-auto px-4 text-center",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Start Your Campaign"}),e.jsx("p",{className:"text-xl text-blue-100 max-w-2xl mx-auto",children:"Turn your innovative idea into reality by raising funds from our investor community"})]})}),e.jsx("section",{className:"py-16",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Campaign Setup"}),e.jsx("p",{className:"text-gray-600",children:"First, let's set up the basic details of your fundraising campaign"})]}),e.jsxs(r,{children:[e.jsx(m,{children:e.jsxs(u,{className:"flex items-center gap-2",children:[e.jsx(W,{className:"h-5 w-5"}),"Funding Details"]})}),e.jsx(l,{className:"space-y-6",children:e.jsx(B,{...n,children:e.jsxs("form",{onSubmit:n.handleSubmit(E),className:"space-y-6",children:[e.jsx(p,{control:n.control,name:"targetAmount",render:({field:s})=>e.jsxs(g,{children:[e.jsx(j,{children:"Target Funding Amount"}),e.jsx(f,{children:e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-3 text-gray-500",children:"₹"}),e.jsx(Y,{placeholder:"5,00,000",className:"pl-8",type:"number",...s,onChange:a=>{s.onChange(a),N(b(a.target.value))}})]})}),e.jsx(y,{}),e.jsx("p",{className:"text-sm text-gray-600",children:"Minimum amount: ₹5,00,000"})]})}),e.jsx(p,{control:n.control,name:"fundingType",render:({field:s})=>e.jsxs(g,{children:[e.jsx(j,{children:"Funding Type"}),e.jsxs(F,{onValueChange:s.onChange,defaultValue:s.value,children:[e.jsx(f,{children:e.jsx(k,{children:e.jsx(A,{placeholder:"Select funding type"})})}),e.jsxs(T,{children:[e.jsx(t,{value:"equity",children:"Equity Investment"}),e.jsx(t,{value:"debt",children:"Debt Financing"}),e.jsx(t,{value:"revenue-share",children:"Revenue Sharing"})]})]}),e.jsx(y,{})]})}),e.jsx(p,{control:n.control,name:"campaignDuration",render:({field:s})=>e.jsxs(g,{children:[e.jsx(j,{children:"Campaign Duration"}),e.jsxs(F,{onValueChange:s.onChange,defaultValue:s.value,children:[e.jsx(f,{children:e.jsx(k,{children:e.jsx(A,{placeholder:"Select duration"})})}),e.jsxs(T,{children:[e.jsx(t,{value:"30",children:"30 days"}),e.jsx(t,{value:"45",children:"45 days"}),e.jsx(t,{value:"60",children:"60 days"}),e.jsx(t,{value:"90",children:"90 days"})]})]}),e.jsx(y,{})]})}),e.jsx(r,{className:"bg-green-50 border-green-200",children:e.jsxs(l,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(G,{className:"h-5 w-5 text-green-600"}),e.jsx("h3",{className:"text-lg font-semibold text-green-800",children:"Fee Structure"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{children:"Target Amount:"}),e.jsx("span",{className:"font-semibold",children:I(o)})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{children:"Campaign Setup:"}),e.jsx("span",{className:"font-semibold text-green-600",children:"FREE"})]}),e.jsxs("div",{className:"border-t pt-2 text-xs text-green-700",children:[e.jsx("p",{children:"• No upfront fees - create your campaign for free"}),e.jsx("p",{children:"• Only 1% fee applies when you withdraw raised funds"}),e.jsx("p",{children:"• All payments are processed securely"})]})]})]})}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(S,{href:"/dashboard",className:"flex-1",children:e.jsx(x,{variant:"outline",className:"w-full",children:"Cancel"})}),e.jsx(x,{type:"submit",className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",disabled:d.isPending,children:d.isPending?"Creating Campaign...":e.jsxs(e.Fragment,{children:["Create Campaign & Continue Setup",e.jsx(z,{className:"ml-2 h-4 w-4"})]})})]})]})})})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mt-8",children:[e.jsxs(r,{children:[e.jsx(m,{children:e.jsx(u,{className:"text-lg",children:"What happens next?"})}),e.jsx(l,{children:e.jsxs("ol",{className:"text-sm space-y-2",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-xs font-semibold",children:"1"}),"Create your campaign for free"]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-xs font-semibold",children:"2"}),"Complete your detailed campaign information"]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-xs font-semibold",children:"3"}),"Campaign goes live for investors to discover"]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-xs font-semibold",children:"4"}),"Receive investments and manage your campaign"]})]})})]}),e.jsxs(r,{children:[e.jsx(m,{children:e.jsx(u,{className:"text-lg",children:"Fee Structure"})}),e.jsx(l,{children:e.jsxs("div",{className:"text-sm space-y-3",children:[e.jsxs("div",{children:[e.jsx("strong",{className:"text-green-600",children:"Campaign Setup: FREE"}),e.jsx("p",{className:"text-gray-600",children:"No upfront costs to create your campaign"})]}),e.jsxs("div",{children:[e.jsx("strong",{className:"text-blue-600",children:"Withdrawal Fee: 1%"}),e.jsx("p",{className:"text-gray-600",children:"Only pay when you successfully raise and withdraw funds"})]}),e.jsx("div",{className:"pt-2 border-t",children:e.jsx("p",{className:"text-xs text-gray-500",children:"All fees are transparent with no hidden charges. You only pay when your campaign is successful."})})]})})]})]})]})})}),e.jsx(w,{})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(C,{}),e.jsx("div",{className:"container mx-auto px-4 py-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Please Sign In"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"You need to be logged in to start a campaign."}),e.jsx(S,{href:"/auth",children:e.jsx(x,{children:"Sign In"})})]})}),e.jsx(w,{})]})}export{re as default};
